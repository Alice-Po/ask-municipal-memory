---
import { SITE_TITLE, SITE_DESCRIPTION } from "../config.ts";

import Footer from "$components/Footer.astro";
import Header from "$components/Header.astro";
import BaseLayout from "$layouts/BaseLayout.astro";
import StackCard from "$components/StackCard.astro"
import Pagination from "$components/Pagination.astro";
import ProseWrapper from "./ProseWrapper.astro";
import BigBlogEntry from "$components/BigBlogEntry.astro";
import PdfOcrUploader from "$components/PdfOcrUploader.svelte";
import QdrantUploader from "$components/QdrantUploader.svelte";

const stack = [
  { 
    text: "Astro", 
    icon: "astro", 
    href: "https://astro.build" 
  },
  { 
    text: "Javascript", 
    icon: "javascript", 
    href: "https://www.javascript.com" 
  },
  { 
    text: "Typescript", 
    icon: "typescript", 
    href: "https://www.typescriptlang.org" 
  },
  { 
    text: "Tailwind", 
    icon: "tailwind", 
    href: "https://tailwindcss.com" 
  },
  { 
    text: "Svelte", 
    icon: "svelte", 
    href: "https://svelte.dev" 
  },
]
---

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <Header active="blog" />
  <main class="max-w-2xl lg:max-w-3xl mx-auto mt-8 px-4">
    <ProseWrapper class="pb-8">
      <slot />
    </ProseWrapper>

    <div class="my-14 space-y-16 max-w-3xl">
      <h1>Ask Municipal Memory</h1>
      <p>
        Ask Municipal Memory est un projet qui vous permet de poser des questions sur l'histoire de votre municipalité.
      </p>
      <p>
        C'est un projet en cours de développement qui sera régulièrement mis à jour.
      </p>
    </div>

    <section class="my-14 space-y-8">
      <div>
        <h2 class="text-2xl font-semibold mb-4">Upload de documents</h2>
        <p class="text-base-600 dark:text-base-400 mb-4">
          Vous pouvez soit uploader un fichier PDF pour l'OCR, soit un fichier texte directement.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div>
            <h3 class="text-xl font-semibold mb-2">OCR de PDF</h3>
            <PdfOcrUploader client:only="svelte"/>
          </div>
          <div>
            <h3 class="text-xl font-semibold mb-2">Upload de texte</h3>
            <QdrantUploader client:only="svelte"/>
          </div>
        </div>
      </div>
    </section>

    <!-- Tech Stack Section -->
    <section class="animate">
      <div class="space-y-4">
        <p class="font-semibold text-black dark:text-white">
          Site web construit avec 
        </p>
        <div class="flex flex-wrap items-center gap-2 mt-5">
          {stack.map(item => (
            <StackCard 
              text={item.text}
              icon={item.icon}
              href={item.href}
            />
          ))}
        </div>
      </div>
    </section>
  </main>

  <Footer />
</BaseLayout>
